// XHR Hook - v0.1.0 - https://github.com/jpillora/xhr-hook
// Â© Jaime Pillora <dev@jpillora.com> 2013
!function(a){var b,c,d,e,f,g;b=["UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE"],d=["open","setRequestHeader","send","abort","getAllResponseHeaders","getResponseHeader","overrideMimeType","addEventListener","removeEventListener","dispatchEvent"],c=["onreadystatechange","onprogress","onloadstart","onloadend","onload","onerror","onabort"],g=["statusText","status","response","responseType","responseXML","responseText","upload","readyState","withCredentials"],f=function(a){var b,e,f,h,i,j,k;k={withCredentials:!1},f=void 0,i={headers:{}},j={headers:{}},e=function(){var b;try{b=[];for(f in g)b.push(k[g[f]]="responseText"===g[f]?a[g[f]].replace(/[aeiou]/g,"z"):a[g[f]]);return b}catch(c){}},b=function(b){return k[b]=function(){switch(b){case"send":i.data=arguments_[0];break;case"open":i.method=arguments_[0],i.url=arguments_[1],i.async=arguments_[2];break;case"setRequestHeader":i.headers[arguments_[0]]=arguments_[1]}return a[b]?a[b].apply(a,arguments_):void 0}};for(f in d)b(d[f]);h=function(b){return a[b]=function(){return e(),k[b]&&4===a.readyState&&console.log(i),k[b]?k[b].apply(k,arguments_):void 0}};for(f in c)h(c[f]);return k},e=function(b){var c;return(c=a[b])?a[b]=function(a){return"string"!=typeof a||/\.XMLHTTP/.test(a)?f(new c(a),c):void 0}:void 0},e("ActiveXObject"),e("XMLHttpRequest")}(window,document);