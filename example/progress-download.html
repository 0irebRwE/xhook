
<h5>download progress events</h5>
<pre id="events"></pre>

<script src="../dist/1/xhook.js"></script>
<script type="text/javascript">

//hook
// xhook.before(function(request) {
//   console.log('hook!', request.url);
// });

function append(str) {
  document.getElementById('events').innerHTML += str + "\n";
}

var xhr = new XMLHttpRequest();

xhr.onreadystatechange = function(e) {
  append('readyState '+ xhr.readyState);
}

xhr.onprogress = function(e) {
  append(Math.round((e.loaded/e.total)*100));
}

xhr.open('GET', 'http://placekitten.com/2000/2000?r='+Math.random());

xhr.send();

</script>